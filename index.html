<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Navidad Especial</title>

<style>
body {
  margin: 0;
  min-height: 100vh;
  background-image: url("fondos/fondo1.gif");
  background-size: cover;
  background-position: center;
  font-family: Arial, sans-serif;
}

/* BOTONERA PRINCIPAL */
.contenedor {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(10,15,10,0.65);
  padding: 14px;
  border-radius: 16px;
  text-align: center;
  z-index: 5;
}

/* BOTONES */
.boton {
  padding: 7px 14px;
  margin: 5px;
  font-size: 13px;
  color: #eee;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  background: linear-gradient(
    120deg,
    #1f3d2b,
    #2e1f1f,
    #3a2f1a
  );
  background-size: 300% 300%;
  animation: navidad 10s ease infinite;
}

@keyframes navidad {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* PANEL GENERAL */
.panel {
  position: fixed;
  inset: 0;
  background-image: url("fondos/panel-opciones.gif");
  background-size: cover;
  background-position: center;
  display: none;
  z-index: 10;
}

/* CAPA OSCURA */
.panel-overlay {
  position: absolute;
  inset: 0;
  background: rgba(5,10,5,0.6);
}

/* CONTENIDO ARRIBA */
.panel-contenido {
  position: relative;
  margin-top: 80px;
  padding: 16px;
  max-width: 420px;
  margin-left: auto;
  margin-right: auto;
  background: rgba(15,20,15,0.65);
  border-radius: 16px;
  color: #eee;
}

/* CERRAR */
.cerrar {
  float: right;
  background: linear-gradient(45deg, #5a0000, #1f4d2b);
  border: none;
  color: white;
  padding: 6px 12px;
  border-radius: 10px;
  cursor: pointer;
}

/* OPCIONES */
.opcion {
  margin-top: 12px;
  padding: 10px;
  border-radius: 12px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: linear-gradient(
    120deg,
    #1f3d2b,
    #2e1f1f,
    #3a2f1a
  );
  background-size: 300% 300%;
  animation: navidad 10s ease infinite;
}

/* MINIATURAS */
.fondos {
  display: flex;
  gap: 12px;
  margin-top: 12px;
  justify-content: center;
  flex-wrap: wrap;
}

.fondo-mini {
  width: 80px;
  height: 120px;
  border-radius: 12px;
  background-size: cover;
  background-position: center;
  border: 2px solid rgba(255,255,255,0.35);
  cursor: pointer;
}
</style>
</head>

<body>

<div class="contenedor">
  <button class="boton" onclick="abrirMusica()">üéµ M√∫sica</button>
  <button class="boton" onclick="abrirFondos()">üéÜ Fondos</button>
  <br>
  <button id="controlMusica" class="boton" style="display:none;" onclick="toggleMusica()">
    ‚è∏ Pausar
  </button>
</div>

<!-- PANEL -->
<div class="panel" id="panel">
  <div class="panel-overlay"></div>
  <div class="panel-contenido">
    <button class="cerrar" onclick="cerrarPanel()">‚úñ</button>
    <div id="panelInterno"></div>
  </div>
</div>

<audio id="audio"></audio>

<script>
const panel = document.getElementById("panel");
const panelInterno = document.getElementById("panelInterno");
const audio = document.getElementById("audio");
const control = document.getElementById("controlMusica");

/* ABRIR MUSICA */
function abrirMusica() {
  panel.style.display = "block";
  panelInterno.innerHTML = `
    <h3>üéµ Elegir m√∫sica</h3>
    <div class="opcion">
      <span>Villancico 1</span>
      <button class="boton" onclick="seleccionarMusica('musica/villancico1.mp3')">Elegir</button>
    </div>
    <div class="opcion">
      <span>Villancico 2</span>
      <button class="boton" onclick="seleccionarMusica('musica/villancico2.mp3')">Elegir</button>
    </div>
  `;
}

/* ABRIR FONDOS */
function abrirFondos() {
  panel.style.display = "block";
  panelInterno.innerHTML = `
    <h3>üéÜ Elegir fondo</h3>
    <div class="fondos">
      <div class="fondo-mini" style="background-image:url('fondos/fondo1.gif')" onclick="cambiarFondo('fondos/fondo1.gif')"></div>
      <div class="fondo-mini" style="background-image:url('fondos/fondo2.gif')" onclick="cambiarFondo('fondos/fondo2.gif')"></div>
    </div>
  `;
}

/* CERRAR */
function cerrarPanel() {
  panel.style.display = "none";
}

/* MUSICA (solo tras click, permitido por GitHub Pages) */
function seleccionarMusica(src) {
  audio.pause();
  audio.src = src;
  audio.loop = true;
  audio.play();
  control.style.display = "inline-block";
  control.textContent = "‚è∏ Pausar";
}

/* PAUSA / REANUDAR */
function toggleMusica() {
  if (audio.paused) {
    audio.play();
    control.textContent = "‚è∏ Pausar";
  } else {
    audio.pause();
    control.textContent = "‚ñ∂ Reanudar";
  }
}

/* CAMBIAR FONDO */
function cambiarFondo(src) {
  document.body.style.backgroundImage = `url('${src}')`;
}
</script>

</body>
</html>
